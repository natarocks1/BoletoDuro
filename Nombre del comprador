<!DOCTYPE html>
<html>
<head>
  <title>Datos de los boletos</title>
  <style>
    body { font-family: Arial; background:#111; color:#fff; text-align:center; }
    input { padding:10px; margin:8px; width:80%; }
    button { padding:15px 30px; background:red; color:#fff; border:none; border-radius:5px; }
  </style>
</head>

<body>

<h2>Ingres√° el nombre de cada boleto</h2>

<div id="form"></div>

<button onclick="guardar()">Guardar nombres</button>

<script>
const params = new URLSearchParams(window.location.search);
const qty = Number(params.get("qty"));
const paymentId = params.get("payment_id");

const form = document.getElementById("form");

for (let i = 1; i <= qty; i++) {
  form.innerHTML += `
    <input placeholder="Nombre del boleto ${i}" />
  `;
}

function guardar() {
  const inputs = document.querySelectorAll("input");
  const nombres = Array.from(inputs).map(i => i.value);

  fetch("https://script.google.com/macros/s/AKfycbyU0xHUOpvRGLzp8O32k2Ka-buzdp4qeptGMy-tSHO_f2O80QKb4Pu73mUbJDA4ddgU/exec?payment_id=" + paymentId, {
    method: "POST",
    body: JSON.stringify(nombres)
  })
  .then(() => alert("Nombres guardados correctamente"))
  .catch(() => alert("Error al guardar"));
}
</script>

</body>
</html>
