<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Nombres boletos</title>
<style>
body{background:#111;color:#fff;text-align:center;font-family:Arial}
input{display:block;margin:10px auto;padding:12px;width:80%}
button{padding:15px 30px;background:red;color:#fff;border:none;font-size:18px}
</style>
</head>

<body>

<h2>Ingres√° el nombre de cada boleto</h2>
<div id="form"></div>
<button onclick="guardar()">Guardar nombres</button>

<script>
const p = new URLSearchParams(window.location.search);
const qty = Number(p.get("qty"));
const paymentId = p.get("payment_id");

const form = document.getElementById("form");

for(let i=1;i<=qty;i++){
  let input=document.createElement("input");
  input.placeholder="Nombre boleto "+i;
  form.appendChild(input);
}

function guardar(){
  const nombres=[...document.querySelectorAll("input")].map(i=>i.value.trim());
  if(nombres.some(n=>!n)) return alert("Completa todos");

  const url =
    "https://script.google.com/macros/s/AKfycbx5q1EozgrbM9kOX-veTyoeRjxWA26U223iVvsOw_lcaghTkYVcLz2rJwsBHQFeR8fn/exec" +
    "?action=guardar" +
    "&payment_id=" + paymentId +
    "&nombres=" + encodeURIComponent(JSON.stringify(nombres));

  window.location.href = url;
}
</script>

</body>
</html>
