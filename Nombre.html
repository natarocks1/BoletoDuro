<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Nombres de boletos</title>
  <style>
    body {
      background:#111;
      color:#fff;
      font-family: Arial, sans-serif;
      text-align:center;
      padding:30px;
    }
    input {
      display:block;
      margin:10px auto;
      padding:12px;
      width:80%;
      max-width:400px;
      font-size:16px;
      border-radius: 5px;
      border: 1px solid #444;
      background: #222;
      color: white;
    }
    button {
      margin-top:20px;
      padding:15px 30px;
      background:red;
      color:white;
      border:none;
      border-radius:5px;
      font-size:18px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #cc0000;
    }
  </style>
</head>

<body>

<h2>Ingresá el nombre de cada asistente</h2>
<p>Necesitamos estos datos para generar tus accesos</p>

<form id="form" method="GET" action="https://script.google.com/macros/s/AKfycbycBAxhxHkWzLx0KcnqxqicrwtvT84CKA1kTZI85I-B7f-4PonGSY0dEsalJUNdzjxI/exec">

<script>
  // Capturamos los datos que vienen de Mercado Pago y de la URL
  const params = new URLSearchParams(window.location.search);
  const qty = Number(params.get("qty")) || 1;
  const paymentId = params.get("payment_id") || "S/N";

  // Estos campos ocultos envían la información extra al Excel
  document.write(`<input type="hidden" name="action" value="guardar">`);
  document.write(`<input type="hidden" name="qty" value="${qty}">`);
  document.write(`<input type="hidden" name="payment_id" value="${paymentId}">`);

  // Generamos un campo de texto por cada boleto comprado
  for (let i = 1; i <= qty; i++) {
    document.write(
      `<input name="nombre_${i}" placeholder="Nombre completo asistente ${i}" required>`
    );
  }
</script>

<button type="submit">FINALIZAR Y REGISTRAR</button>
</form>

</body>
</html>
